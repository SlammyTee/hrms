{% with request.resolver_match.url_name as current_url %}
<!-- Toggle Button (Small screens only) -->
<div class="d-md-none mt-3">
  <button class="btn btn-outline-dark" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenuMobile"
    aria-controls="sidebarMenuMobile" aria-expanded="false" aria-label="Toggle navigation">
    <i class="bi bi-list"></i> Menu
  </button>
</div>

<!-- Sidebar for medium and larger screens -->
<nav class="col-md-3 col-lg-2 d-none d-md-block bg-white text-dark d-flex min-vh-100  px-3 py-4">
  <h6 class="text-muted">HR Menu</h6>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'hr_dashboard' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'hr_dashboard' %}">
        <i class="bi bi-speedometer2"></i> Dashboard
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'employee_list' or current_url == 'edit_employee' or current_url == 'delete_employee'  %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'employee_list' %}">
        <i class="bi bi-people"></i> Manage Employees
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'leave_requests' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'leave_requests' %}">
        <i class="bi bi-calendar-check"></i> Leave Requests
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'announcements' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'announcements' %}">
        <i class="bi bi-megaphone"></i> Make an Announcement
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'attendance_report' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'attendance_report' %}">
        <i class="bi bi-clipboard-check"></i> Attendance Report
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'payroll' or current_url == 'add_payroll' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'payroll' %}">
        <i class="bi bi-cash-stack"></i> Payroll
      </a>
    </li>
  </ul>
</nav>

<!-- Collapsible Sidebar for small screens -->
<div class="collapse d-md-none bg-white border-end px-3 py-3" id="sidebarMenuMobile">
  <h6 class="text-muted">HR Menu</h6>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'hr_dashboard' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'hr_dashboard' %}">
        <i class="bi bi-speedometer2"></i> Dashboard
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'employee_list' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'employee_list' %}">
        <i class="bi bi-people"></i> Manage Employees
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'leave_requests' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'leave_requests' %}">
        <i class="bi bi-calendar-check"></i> Leave Requests
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'announcements' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="#">
        <i class="bi bi-megaphone"></i> Announcements
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'attendance_report' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="">
        <i class="bi bi-clipboard-check"></i> Attendance Report
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if current_url == 'payroll' %}active bg-dark text-white{% else %}text-dark{% endif %}" href="{% url 'payroll' %}">
        <i class="bi bi-cash-stack"></i> Payroll
      </a>
    </li>
  </ul>
</div>

{% endwith %}
